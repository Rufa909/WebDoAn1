const homestays = [
  {
    id: 1,
    ten: "Fini Home",
    quan: "Cái Răng",
    gia: 500000,
    soKhach: 4,
    danhGia: 5,
    soPhong: 2,
    loaiGiuong: "giuong-don",
    tienNghi: ["phong-gym", "bon-tam", "may-chieu", "view-dep"],
    hinhAnh: "images/Anh/Phong_2.jpg",
  },
  {
    id: 2,
    ten: "Dream Home",
    quan: "Cái Răng",
    gia: 800000,
    soKhach: 7,
    danhGia: 4,
    soPhong: 3,
    loaiGiuong: "giuong-don",
    tienNghi: ["phong-gym", "bon-tam", "may-chieu", "san-vuon"],
    hinhAnh: "images/Anh/Phong_14.jpg",
  },
  {
    id: 3,
    ten: "Sunset Home",
    quan: "Cái Răng",
    gia: 690000,
    soKhach: 2,
    danhGia: 4,
    soPhong: 1,
    loaiGiuong: "giuong-don",
    tienNghi: ["be-boi", "view-dep", "ban-cong", "bep"],
    hinhAnh: "images/Anh/Phong_27.jpg",
  },
  {
    id: 4,
    ten: "Twin Home",
    quan: "Cái Răng",
    gia: 620000,
    soKhach: 4,
    danhGia: 3,
    soPhong: 2,
    loaiGiuong: "giuong-doi",
    tienNghi: ["bep", "bon-tam", "phong-gym", "ban-cong"],
    hinhAnh: "images/Anh/Phong_21.jpg",
  },
  {
    id: 5,
    ten: "Gray Home",
    quan: "Cái Răng",
    gia: 480000,
    soKhach: 2,
    danhGia: 3,
    soPhong: 1,
    loaiGiuong: "giuong-don",
    tienNghi: ["ban-cong", "bon-tam", "may-chieu"],
    hinhAnh: "images/Anh/Phong_11.jpg",
  },
  {
    id: 6,
    ten: "Luca Home",
    quan: "Cái Răng",
    gia: 590000,
    soKhach: 4,
    danhGia: 4,
    soPhong: 2,
    loaiGiuong: "giuong-don",
    tienNghi: ["may-chieu", "bep", "phong-gym"],
    hinhAnh: "images/anh/Phong_10.jpg",
  },
  {
    id: 7,
    ten: "Double cozy home",
    quan: "Cái Răng",
    gia: 650000,
    soKhach: 4,
    danhGia: 3,
    soPhong: 2,
    loaiGiuong: "giuong-doi",
    tienNghi: ["may-chieu", "phong-gym", "ban-cong"],
    hinhAnh: "images/Anh/Phong_20.jpg",
  },
  {
    id: 8,
    ten: "Sweet Dreams",
    quan: "Cái Răng",
    gia: 590000,
    soKhach: 7,
    danhGia: 3,
    soPhong: 3,
    loaiGiuong: "giuong-don",
    tienNghi: ["may-chieu", "ban-cong", "bon-tam"],
    hinhAnh: "images/Anh/Phong_5.jpg",
  },
  {
    id: 9,
    ten: "Luxury home",
    quan: "Ninh Kiều",
    gia: 1200000,
    soKhach: 10,
    danhGia: 5,
    soPhong: 4,
    loaiGiuong: "giuong-don",
    tienNghi: ["phong-gym", "ban-cong", "be-boi", "view-dep"],
    hinhAnh: "images/Anh/Phong_3.jpg",
  },
  {
    id: 10,
    ten: "Nest Home",
    quan: "Ninh Kiều",
    gia: 790000,
    soKhach: 4,
    danhGia: 5,
    soPhong: 2,
    loaiGiuong: "giuong-don",
    tienNghi: ["phong-gym", "ban-cong", "may-chieu", "bep"],
    hinhAnh: "images/anh/Phong_45.jpg",
  },
  {
    id: 11,
    ten: "Luca Home",
    quan: "Ninh Kiều",
    gia: 590000,
    soKhach: 2,
    danhGia: 3,
    soPhong: 2,
    loaiGiuong: "giuong-don",
    tienNghi: ["phong-gym", "may-chieu", "bep"],
    hinhAnh: "images/anh/Phong_8.jpg",
  },
  {
    id: 12,
    ten: "Warm Home",
    quan: "Ninh Kiều",
    gia: 690000,
    soKhach: 4,
    danhGia: 5,
    soPhong: 2,
    loaiGiuong: "giuong-don",
    tienNghi: ["phong-gym", "may-chieu", "bep"],
    hinhAnh: "images/anh/Phong_10.jpg",
  },
  {
    id: 13,
    ten: "Lucy Home",
    quan: "Ninh Kiều",
    gia: 990000,
    soKhach: 10,
    danhGia: 5,
    soPhong: 5,
    loaiGiuong: "giuong-don",
    tienNghi: ["be-boi", "may-chieu", "view-dep", "bep"],
    hinhAnh: "images/anh/Phong_16.jpg",
  },
  {
    id: 14,
    ten: "Zen Home",
    quan: "Ninh Kiều",
    gia: 790000,
    soKhach: 4,
    danhGia: 5,
    soPhong: 2,
    loaiGiuong: "giuong-don",
    tienNghi: ["phong-gym", "may-chieu", "bep"],
    hinhAnh: "images/anh/Phong_13.jpg",
  },
  {
    id: 15,
    ten: "Couple Home",
    quan: "Ninh Kiều",
    gia: 590000,
    soKhach: 4,
    danhGia: 3,
    soPhong: 2,
    loaiGiuong: "giuong-doi",
    tienNghi: ["phong-gym", "may-chieu", "bep"],
    hinhAnh: "images/anh/Phong_17.jpg",
  },
  {
    id: 16,
    ten: "Sunny Home",
    quan: "Ninh Kiều",
    gia: 890000,
    soKhach: 7,
    danhGia: 5,
    soPhong: 3,
    loaiGiuong: "giuong-don",
    tienNghi: ["be-boi", "view-dep", "ban-cong", "bon-tam", "bep"],
    hinhAnh: "images/Anh/Phong_18.jpg",
  },
  {
    id: 17,
    ten: "Secret Home",
    quan: "Ninh Kiều",
    gia: 790000,
    soKhach: 10,
    danhGia: 4,
    soPhong: 4,
    loaiGiuong: "giuong-don",
    tienNghi: ["be-boi", "ban-cong", "bep", "bon-tam"],
    hinhAnh: "images/Anh/Phong_19.jpg",
  },
  {
    id: 18,
    ten: "Dynamic Game home",
    quan: "Ninh Kiều",
    gia: 850000,
    soKhach: 4,
    danhGia: 5,
    soPhong: 2,
    loaiGiuong: "giuong-don",
    tienNghi: ["be-boi", "view-dep", "ban-cong", "bep", "bon-tam"],
    hinhAnh: "images/Anh/Phong_34.jpg",
  },
  {
    id: 19,
    ten: "Bloom home",
    quan: "Bình Thủy",
    gia: 1090000,
    soKhach: 11,
    danhGia: 5,
    soPhong: 5,
    loaiGiuong: "giuong-don",
    tienNghi: ["phong-gym", "be-boi", "may-chieu", "view-dep"],
    hinhAnh: "images/Anh/Phong_31.jpg",
  },
  {
    id: 20,
    ten: "Sky home",
    quan: "Bình Thủy",
    gia: 800000,
    soKhach: 4,
    danhGia: 5,
    soPhong: 2,
    loaiGiuong: "giuong-doi",
    tienNghi: ["phong-gym", "bep", "may-chieu"],
    hinhAnh: "images/Anh/Phong_32.jpg",
  },
  {
    id: 21,
    ten: "Pearl home",
    quan: "Bình Thủy",
    gia: 900000,
    soKhach: 7,
    danhGia: 4,
    soPhong: 3,
    loaiGiuong: "giuong-don",
    tienNghi: ["may-chieu", "bep", "ban-cong", "view-dep"],
    hinhAnh: "images/Anh/Phong_33.jpg",
  },
  {
    id: 22,
    ten: "Grace home",
    quan: "Bình Thủy",
    gia: 890000,
    soKhach: 4,
    danhGia: 5,
    soPhong: 2,
    loaiGiuong: "giuong-don",
    tienNghi: ["may-chieu", "bep", "phong-gym"],
    hinhAnh: "images/Anh/Phong_34.jpg",
  },
  {
    id: 23,
    ten: "Elite home",
    quan: "Bình Thủy",
    gia: 1100000,
    soKhach: 10,
    danhGia: 4,
    soPhong: 5,
    loaiGiuong: "giuong-doi",
    tienNghi: ["may-chieu", "ban-cong", "be-boi"],
    hinhAnh: "images/Anh/Phong_35.jpg",
  },
  {
    id: 24,
    ten: "Velvet home",
    quan: "Bình Thủy",
    gia: 600000,
    soKhach: 4,
    danhGia: 5,
    soPhong: 2,
    loaiGiuong: "giuong-don",
    tienNghi: ["phong-gym", "may-chieu", "bep"],
    hinhAnh: "images/Anh/Phong_36.jpg",
  },
  {
    id: 25,
    ten: "Flair home",
    quan: "Bình Thủy",
    gia: 700000,
    soKhach: 4,
    danhGia: 5,
    soPhong: 2,
    loaiGiuong: "giuong-doi",
    tienNghi: ["may-chieu", "bep", "ban-cong"],
    hinhAnh: "images/Anh/Phong_37.jpg",
  },
  {
    id: 26,
    ten: "Pink Paradise",
    quan: "Bình Thủy",
    gia: 990000,
    soKhach: 7,
    danhGia: 4,
    soPhong: 3,
    loaiGiuong: "giuong-don",
    tienNghi: ["may-chieu", "bep", "ban-cong", "view-dep"],
    hinhAnh: "images/Anh/Phong_38.jpg",
  },
  {
    id: 27,
    ten: "Swan home",
    quan: "Bình Thủy",
    gia: 900000,
    soKhach: 4,
    danhGia: 5,
    soPhong: 2,
    loaiGiuong: "giuong-don",
    tienNghi: ["may-chieu", "bep", "ban-cong", "view-dep"],
    hinhAnh: "images/Anh/Phong_39.jpg",
  },
  {
    id: 28,
    ten: "Eden home",
    quan: "Ô Môn",
    gia: 890000,
    soKhach: 7,
    danhGia: 5,
    soPhong: 3,
    loaiGiuong: "giuong-don",
    tienNghi: ["may-chieu", "bep", "ban-cong", "view-dep"],
    hinhAnh: "images/Anh/Phong_40.jpg",
  },
  {
    id: 29,
    ten: "Iris home",
    quan: "Ô Môn",
    gia: 790000,
    soKhach: 7,
    danhGia: 5,
    soPhong: 3,
    loaiGiuong: "giuong-don",
    tienNghi: ["may-chieu", "bep", "ban-cong"],
    hinhAnh: "images/Anh/Phong_41.jpg",
  },
  {
    id: 30,
    ten: "Nova home",
    quan: "Ô Môn",
    gia: 900000,
    soKhach: 11,
    danhGia: 5,
    soPhong: 5,
    loaiGiuong: "giuong-doi",
    tienNghi: ["may-chieu", "bep", "ban-cong"],
    hinhAnh: "images/Anh/Phong_42.jpg",
  },
  {
    id: 31,
    ten: "Eve home",
    quan: "Ô Môn",
    gia: 1090000,
    soKhach: 7,
    danhGia: 5,
    soPhong: 3,
    loaiGiuong: "giuong-don",
    tienNghi: ["may-chieu", "bep", "ban-cong", "view-dep"],
    hinhAnh: "images/Anh/Phong_43.jpg",
  },
  {
    id: 32,
    ten: "Ivory home",
    quan: "Ô Môn",
    gia: 600000,
    soKhach: 2,
    danhGia: 4,
    soPhong: 1,
    loaiGiuong: "giuong-don",
    tienNghi: ["may-chieu", "bep"],
    hinhAnh: "images/Anh/Phong_44.jpg",
  },
  {
    id: 33,
    ten: "Opal home",
    quan: "Ô Môn",
    gia: 500000,
    soKhach: 2,
    danhGia: 3,
    soPhong: 2,
    loaiGiuong: "giuong-don",
    tienNghi: ["may-chieu", "bep", "ban-cong"],
    hinhAnh: "images/Anh/Phong_45.jpg",
  },
  {
    id: 34,
    ten: "Eclipse home",
    quan: "Ô Môn",
    gia: 990000,
    soKhach: 7,
    danhGia: 5,
    soPhong: 3,
    loaiGiuong: "giuong-don",
    tienNghi: ["may-chieu", "bep", "ban-cong", "view-dep"],
    hinhAnh: "images/Anh/Phong_46.jpg",
  },
  {
    id: 35,
    ten: "Zenith home",
    quan: "Ô Môn",
    gia: 700000,
    soKhach: 7,
    danhGia: 5,
    soPhong: 3,
    loaiGiuong: "giuong-don",
    tienNghi: ["may-chieu", "bep", "ban-cong", "view-dep", "phong-gym"],
    hinhAnh: "images/Anh/Phong_47.jpg",
  },
  {
    id: 36,
    ten: "Luxe home",
    quan: "Ô Môn",
    gia: 890000,
    soKhach: 7,
    danhGia: 5,
    soPhong: 3,
    loaiGiuong: "giuong-don",
    tienNghi: ["may-chieu", "bep", "ban-cong", "phong-gym"],
    hinhAnh: "images/Anh/Phong_48.jpg",
  },
  {
    id: 37,
    ten: "Solace home",
    quan: "Ô Môn",
    gia: 500000,
    soKhach: 2,
    danhGia: 5,
    soPhong: 1,
    loaiGiuong: "giuong-don",
    tienNghi: ["may-chieu", "bep", "ban-cong"],
    hinhAnh: "images/Anh/Phong_49.jpg",
  },
  {
    id: 38,
    ten: "Aurora home",
    quan: "Thốt Nốt",
    gia: 1390000,
    soKhach: 11,
    danhGia: 5,
    soPhong: 4,
    loaiGiuong: "giuong-don",
    tienNghi: ["may-chieu", "phong-gym", "be-boi", "view-dep"],
    hinhAnh: "images/Anh/Phong_50.jpg",
  },
  {
    id: 39,
    ten: "Eden Home",
    quan: "Thốt Nốt",
    gia: 800000,
    soKhach: 7,
    danhGia: 5,
    soPhong: 3,
    loaiGiuong: "giuong-don",
    tienNghi: ["may-chieu", "bep", "ban-cong", "view-dep"],
    hinhAnh: "images/Anh/Phong_51.jpg",
  },
  {
    id: 40,
    ten: "Diamond Home",
    quan: "Thốt Nốt",
    gia: 990000,
    soKhach: 10,
    danhGia: 5,
    soPhong: 4,
    loaiGiuong: "giuong-doi",
    tienNghi: ["be-boi", "phong-gym", "ban-cong", "may-chieu"],
    hinhAnh: "images/Anh/Phong_52.jpg",
  },
  {
    id: 41,
    ten: "Emerald Home",
    quan: "Thốt Nốt",
    gia: 890000,
    soKhach: 7,
    danhGia: 4,
    soPhong: 3,
    loaiGiuong: "giuong-don",
    tienNghi: ["bep", "ban-cong", "may-chieu"],
    hinhAnh: "images/Anh/Phong_53.jpg",
  },
  {
    id: 42,
    ten: "Harmony Home",
    quan: "Thốt Nốt",
    gia: 790000,
    soKhach: 5,
    danhGia: 4,
    soPhong: 2,
    loaiGiuong: "giuong-doi",
    tienNghi: ["bep", "ban-cong", "view-dep"],
    hinhAnh: "images/Anh/Phong_54.jpg",
  },
  {
    id: 43,
    ten: "Crystal Home",
    quan: "Phong Điền",
    gia: 1190000,
    soKhach: 9,
    danhGia: 5,
    soPhong: 4,
    loaiGiuong: "giuong-don",
    tienNghi: ["be-boi", "phong-gym", "may-chieu", "view-dep"],
    hinhAnh: "images/Anh/Phong_55.jpg",
  },
  {
    id: 44,
    ten: "Olive Home",
    quan: "Phong Điền",
    gia: 850000,
    soKhach: 6,
    danhGia: 4,
    soPhong: 3,
    loaiGiuong: "giuong-doi",
    tienNghi: ["bep", "ban-cong", "may-chieu"],
    hinhAnh: "images/Anh/Phong_56.jpg",
  },
  {
    id: 45,
    ten: "Amber Home",
    quan: "Phong Điền",
    gia: 720000,
    soKhach: 4,
    danhGia: 3,
    soPhong: 2,
    loaiGiuong: "giuong-don",
    tienNghi: ["bep", "bon-tam", "ban-cong"],
    hinhAnh: "images/Anh/Phong_57.jpg",
  },
  {
    id: 46,
    ten: "Clover Home",
    quan: "Phong Điền",
    gia: 940000,
    soKhach: 8,
    danhGia: 5,
    soPhong: 3,
    loaiGiuong: "giuong-doi",
    tienNghi: ["phong-gym", "ban-cong", "view-dep"],
    hinhAnh: "images/Anh/Phong_58.jpg",
  },
  {
    id: 47,
    ten: "Tranquil Home",
    quan: "Cờ Đỏ",
    gia: 650000,
    soKhach: 4,
    danhGia: 4,
    soPhong: 2,
    loaiGiuong: "giuong-don",
    tienNghi: ["bep", "ban-cong"],
    hinhAnh: "images/Anh/Phong_59.jpg",
  },
  {
    id: 48,
    ten: "Meadow Home",
    quan: "Cờ Đỏ",
    gia: 890000,
    soKhach: 7,
    danhGia: 5,
    soPhong: 3,
    loaiGiuong: "giuong-don",
    tienNghi: ["be-boi", "may-chieu", "view-dep"],
    hinhAnh: "images/Anh/Phong_60.jpg",
  },
  {
    id: 49,
    ten: "Serene Home",
    quan: "Cờ Đỏ",
    gia: 760000,
    soKhach: 5,
    danhGia: 4,
    soPhong: 2,
    loaiGiuong: "giuong-doi",
    tienNghi: ["bep", "ban-cong", "may-chieu"],
    hinhAnh: "images/Anh/Phong_61.jpg",
  },
  {
    id: 50,
    ten: "Majestic Home",
    quan: "Cờ Đỏ",
    gia: 1150000,
    soKhach: 10,
    danhGia: 5,
    soPhong: 4,
    loaiGiuong: "giuong-don",
    tienNghi: ["be-boi", "phong-gym", "ban-cong", "view-dep"],
    hinhAnh: "images/Anh/Phong_62.jpg",
  },
  {
    id: 51,
    ten: "Lily Home",
    quan: "Vĩnh Thạnh",
    gia: 720000,
    soKhach: 4,
    danhGia: 4,
    soPhong: 2,
    loaiGiuong: "giuong-doi",
    tienNghi: ["bep", "ban-cong", "may-chieu"],
    hinhAnh: "images/Anh/Phong_63.jpg",
  },
  {
    id: 52,
    ten: "Rose Home",
    quan: "Vĩnh Thạnh",
    gia: 950000,
    soKhach: 6,
    danhGia: 5,
    soPhong: 3,
    loaiGiuong: "giuong-don",
    tienNghi: ["phong-gym", "ban-cong", "view-dep"],
    hinhAnh: "images/Anh/Phong_64.jpg",
  },
  {
    id: 53,
    ten: "Daisy Home",
    quan: "Vĩnh Thạnh",
    gia: 600000,
    soKhach: 2,
    danhGia: 3,
    soPhong: 1,
    loaiGiuong: "giuong-don",
    tienNghi: ["bep", "bon-tam"],
    hinhAnh: "images/Anh/Phong_65.jpg",
  },
  {
    id: 54,
    ten: "Lotus Home",
    quan: "Vĩnh Thạnh",
    gia: 880000,
    soKhach: 7,
    danhGia: 5,
    soPhong: 3,
    loaiGiuong: "giuong-doi",
    tienNghi: ["be-boi", "ban-cong", "view-dep"],
    hinhAnh: "images/Anh/Phong_66.jpg",
  },
  {
    id: 55,
    ten: "Coral Home",
    quan: "Vĩnh Thạnh",
    gia: 1050000,
    soKhach: 9,
    danhGia: 5,
    soPhong: 4,
    loaiGiuong: "giuong-don",
    tienNghi: ["be-boi", "phong-gym", "ban-cong", "may-chieu"],
    hinhAnh: "images/Anh/Phong_67.jpg",
  },
];

document.addEventListener("DOMContentLoaded", async () => {
  const res = await fetch("/current_user", {
    credentials: "include",
  });

  if (res.status === 200) {
    const user = await res.json();
    console.log("User hiện tại:", user);

    
    // Display
    document.getElementById("labelLogin").innerHTML = `
        Hi, ${user.user.ten}`;
    document.querySelector(".dropdown-menu").innerHTML = `
        <li><a class="dropdown-item" href="/pages/profile.html">Xem hồ sơ</a></li>
        <li><a class="dropdown-item" id="logoutBtn" href="#">Đăng xuất</a></li>
      `;
    document.getElementById("logoutBtn").addEventListener("click", async () => {
      await fetch("/logout");
      location.reload();
    });

    // Hiển thị thông tin người dùng trên trang profile
    document.getElementById("userAvatar").innerText =
      user.user.ten.charAt(0).toUpperCase() + user.user.ho.charAt(0).toUpperCase();
    document.getElementById("username").innerText = user.user.ten + " " + user.user.ho;
    document.getElementById("userRole").innerText = user.user.chucVu;
    
    document.getElementById("infoName").value = user.user.ten + " " + user.user.ho;
    document.getElementById("infoEmail").value = user.user.email;
    document.getElementById("infoPhone").value = user.user.soDienThoai;
    document.getElementById("infoBirth").value = user.user.ngaySinh;
    document.getElementById("infoGender").value = user.user.gioiTinh;

  }

  document.getElementById("logoutBtn").addEventListener("click", async () => {
    const res = await fetch("/logout", {
      method: "POST",
      credentials: "include",
    });
    if (res.ok) {
      location.reload();
    } else {
      alert("Đăng xuất thất bại!");
    }
  });
});
